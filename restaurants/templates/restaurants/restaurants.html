{% load static %}
{% load custom_tags %}
<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static '/restaurants/css/style.css' %}">
    <title>Главная</title>
</head>

<body>
    <header>
        <div class="wrapper">
            <div class="header">
                <a href="{% url 'main_page' %}"><img src="{% static 'main_page/img/logo.svg' %}" alt=""></a>
                <ul class="nav_menu">
                    <li><a href="{% url 'main_page' %}">Город</a></li>
                    <li><a href="{% url 'restaurants' %}">Куда сходить</a></li>
                    <li><a href="{% url 'articles' %}">События</a></li>
                    <li><a href="">О нас</a></li>
                    {% if user.is_authenticated %}
                        <li><a class="login_btn" href="{% url 'profile' %}">Профиль</a></li>
                    {% else %}
                        <li><a class="login_btn" href="{% url 'login' %}">Вход/Регистрация </a></li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </header>
    <section id="catalog">
        <div class="wrapper">
            <h2>Рестораны Красноярска - {{ count }}</h2>
            <div class="catalog">
                <div class="side_bar">
                    <div class="side_bar_inputs">
                        <h4>Тип заведения</h4>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Ресторан</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Кофейня</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Кафе</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Столовая</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Кондитерская</label>
                        </div>
                    </div>
                    <div class="side_bar_inputs">
                        <h4>Кухня</h4>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Русская</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Европейская</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Итальянская</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Японская</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Восточная</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Грузинская</label>
                        </div>
                        <div class="side_bar_input">
                            <input type="checkbox" name="" id="">
                            <label for="">Азиатская</label>
                        </div>
                        <button class="more_btn">Показать больше <img src="{% static 'restaurants/img/more_arrow.svg' %}" alt=""></button>
                    </div>
                    <div class="side_bar_btns">

                        <a href="" class="side_bar_btn">
                            <svg width="15" height="21" viewBox="0 0 15 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 0.75H15L13 20.75H2L0 0.75ZM2.2 2.75L3.8 18.75H4.8L3.43 5.09C4.5 4.75 5.89 4.64 7 5.75C8.56 7.31 11.33 6.44 12.5 5.98L12.8 2.75H2.2Z" />
                            </svg> Бары
                        </a>

                        <a href="" class="side_bar_btn_active side_bar_btn">
                            <svg width="23" height="24" viewBox="0 0 23 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16.0072 10.4972C16.5 10.4986 16.9881 10.4021 17.4434 10.2135C17.8986 10.0249 18.3119 9.74789 18.6594 9.39845L22.2688 5.79142C22.5542 5.50595 22.5805 5.04142 22.3086 4.74189C22.2404 4.66663 22.1575 4.60603 22.0651 4.56376C21.9728 4.52148 21.8728 4.49842 21.7712 4.49596C21.6696 4.49351 21.5686 4.51171 21.4743 4.54948C21.38 4.58724 21.2943 4.64377 21.2225 4.71564L18.0055 7.93032C17.8975 8.03821 17.751 8.09881 17.5984 8.09881C17.4457 8.09881 17.2993 8.03821 17.1913 7.93032C16.9667 7.70626 16.9789 7.32751 17.203 7.10345L20.406 3.90048C20.4777 3.82868 20.5342 3.74305 20.5719 3.64877C20.6096 3.5545 20.6278 3.45355 20.6254 3.35204C20.6229 3.25054 20.5999 3.15058 20.5577 3.05824C20.5154 2.9659 20.4549 2.8831 20.3797 2.81485C20.244 2.69174 20.067 2.624 19.8838 2.62501C19.6761 2.62515 19.477 2.70777 19.3302 2.8547L16.13 6.05439C16.022 6.16227 15.8756 6.22287 15.7229 6.22287C15.5702 6.22287 15.4238 6.16227 15.3158 6.05439C15.0917 5.83032 15.1035 5.45157 15.3275 5.22751L18.5305 2.02548C18.6023 1.95368 18.6587 1.86805 18.6965 1.77377C18.7342 1.6795 18.7524 1.57855 18.7499 1.47704C18.7475 1.37554 18.7244 1.27558 18.6822 1.18324C18.64 1.0909 18.5794 1.0081 18.5042 0.939855C18.3685 0.816743 18.1915 0.749003 18.0083 0.750011C17.8006 0.750257 17.6015 0.832859 17.4547 0.979699L13.8477 4.58673C13.4982 4.93425 13.2211 5.34764 13.0325 5.80298C12.8439 6.25831 12.7475 6.74654 12.7489 7.23939V7.62517C12.749 7.7238 12.7296 7.82148 12.6919 7.91261C12.6542 8.00374 12.5988 8.08654 12.5291 8.15626L10.8599 9.82595C10.8424 9.84338 10.8218 9.85721 10.799 9.86665C10.7762 9.87608 10.7518 9.88094 10.7272 9.88094C10.7026 9.88094 10.6782 9.87608 10.6554 9.86665C10.6326 9.85721 10.612 9.84338 10.5945 9.82595L2.47205 1.70298C2.33186 1.56263 2.14178 1.48354 1.94341 1.48301C1.74504 1.48248 1.55454 1.56057 1.41361 1.70017C0.703454 2.40376 0.324235 3.39704 0.324235 4.5722C0.319547 6.51282 1.33955 8.74407 2.98627 10.3884L6.99173 14.3939C7.56103 14.9621 8.33244 15.2812 9.13673 15.2813C9.39314 15.2814 9.6485 15.2486 9.89658 15.1838C9.95887 15.1674 10.023 15.1591 10.0874 15.1589C10.2756 15.1589 10.457 15.2301 10.595 15.3581L11.1289 15.8513C11.2666 15.9919 11.344 16.1808 11.3445 16.3777V16.6374C11.3432 17.2277 11.5752 17.7947 11.99 18.2147L16.2111 22.507L16.2153 22.5117C16.6838 22.9802 17.3192 23.2433 17.9817 23.2433C18.6443 23.2432 19.2796 22.98 19.7481 22.5115C20.2165 22.043 20.4796 21.4076 20.4796 20.7451C20.4796 20.0826 20.2163 19.4472 19.7478 18.9788L13.4206 12.6516C13.4032 12.6342 13.3894 12.6135 13.3799 12.5907C13.3705 12.568 13.3656 12.5436 13.3656 12.5189C13.3656 12.4943 13.3705 12.4699 13.3799 12.4471C13.3894 12.4244 13.4032 12.4037 13.4206 12.3863L15.0899 10.717C15.1595 10.6473 15.2422 10.592 15.3333 10.5543C15.4243 10.5166 15.5219 10.4972 15.6205 10.4972H16.0072Z"/>
                                <path d="M9.13734 16.7807C7.93657 16.7782 6.78518 16.3024 5.93297 15.4565L5.28328 14.8068C5.21298 14.7367 5.11774 14.6973 5.01844 14.6973C4.91914 14.6973 4.82389 14.7367 4.75359 14.8068L0.769218 18.7705C0.0590619 19.4807 -0.194532 20.526 0.157031 21.5497C0.176707 21.6074 0.200036 21.6638 0.226874 21.7185C0.699843 22.6869 1.61766 23.2494 2.62172 23.2494C2.96702 23.2503 3.30905 23.1826 3.62801 23.0503C3.94696 22.918 4.2365 22.7238 4.47984 22.4788L9.79359 17.1397C9.81596 17.1169 9.83308 17.0895 9.84377 17.0594C9.85446 17.0293 9.85845 16.9972 9.85547 16.9654V16.9532C9.85338 16.924 9.8454 16.8955 9.832 16.8694C9.81861 16.8433 9.80007 16.8203 9.77751 16.8016C9.75495 16.7828 9.72884 16.7689 9.70075 16.7606C9.67266 16.7522 9.64317 16.7497 9.61406 16.753C9.45575 16.7706 9.29663 16.7798 9.13734 16.7807Z" />
                            </svg> Рестораны
                        </a>
                        <a href="" class="side_bar_btn">
                            <svg width="21" height="22" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.1888 13.4412L0 12.4556C2.43147 7.08002 6.87878 2.8758 12.3824 0.75L12.4256 0.862L13.2432 2.9916L13.2384 2.9932C8.33374 4.90182 4.36873 8.65096 2.1888 13.4412ZM19.7296 21.3772L3.832 14.214C5.83725 9.80599 9.48542 6.3559 13.9984 4.5996L14.0032 4.598L15.3104 7.9932C15.2656 7.99 15.2272 7.9676 15.1808 7.9676C14.8991 7.96591 14.6213 8.03431 14.3726 8.16664C14.1238 8.29896 13.9119 8.49107 13.7559 8.72565C13.5998 8.96024 13.5045 9.22995 13.4786 9.5105C13.4527 9.79106 13.497 10.0737 13.6074 10.3329C13.7179 10.5921 13.891 10.8197 14.1113 10.9954C14.3316 11.171 14.5921 11.2891 14.8694 11.3391C15.1467 11.389 15.4321 11.3692 15.6998 11.2815C15.9675 11.1937 16.2093 11.0408 16.4032 10.8364L20.264 20.8732C20.292 20.9467 20.2975 21.0269 20.28 21.1036C20.2625 21.1804 20.2226 21.2502 20.1654 21.3042C20.1083 21.3583 20.0364 21.3943 19.9588 21.4075C19.8812 21.4208 19.8015 21.4108 19.7296 21.3788V21.3772ZM11.8416 12.7836C11.8481 12.5853 11.8147 12.3876 11.7433 12.2025C11.6719 12.0173 11.564 11.8484 11.426 11.7058C11.288 11.5632 11.1227 11.4498 10.94 11.3723C10.7573 11.2949 10.5609 11.2549 10.3624 11.2549C10.1639 11.2549 9.96752 11.2949 9.78481 11.3723C9.60209 11.4498 9.43682 11.5632 9.29882 11.7058C9.16082 11.8484 9.05291 12.0173 8.98151 12.2025C8.91011 12.3876 8.87668 12.5853 8.8832 12.7836C8.89583 13.1675 9.0572 13.5314 9.33323 13.7985C9.60925 14.0656 9.9783 14.2149 10.3624 14.2149C10.7465 14.2149 11.1155 14.0656 11.3916 13.7985C11.6676 13.5314 11.829 13.1675 11.8416 12.7836ZM16.6688 16.0316C16.6688 15.6641 16.5321 15.3098 16.2853 15.0375C16.0384 14.7653 15.6991 14.5946 15.3334 14.5587C14.9677 14.5228 14.6017 14.6242 14.3066 14.8433C14.0116 15.0623 13.8085 15.3833 13.7371 15.7437C13.6656 16.1042 13.7308 16.4784 13.9199 16.7934C14.1091 17.1085 14.4087 17.3419 14.7604 17.4483C15.1122 17.5546 15.4909 17.5263 15.8229 17.3689C16.155 17.2114 16.4166 16.9361 16.5568 16.5964C16.631 16.4168 16.6691 16.2243 16.6688 16.03V16.0316Z" />
                            </svg>ФастФуд
                        </a>
                        <a href="" class="side_bar_btn">
                            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6.10768 18.1476C5.0021 17.7402 4.01824 17.0584 3.24856 16.1663C2.47888 15.2742 1.94864 14.201 1.70768 13.0476L0.0476822 5.23764C-0.192318 4.15764 0.497682 3.09764 1.57768 2.86764L11.3477 0.797638L11.3777 0.787638C12.4477 0.577638 13.4977 1.26764 13.7177 2.32764L14.0677 3.99764L18.4177 4.92764H18.4477C19.4977 5.16764 20.1777 6.22764 19.9577 7.28764L18.2977 15.1076C18.1061 16.0059 17.7394 16.8577 17.2185 17.6143C16.6977 18.3708 16.0329 19.0174 15.2622 19.517C14.4914 20.0166 13.6298 20.3595 12.7265 20.526C11.8232 20.6926 10.8959 20.6795 9.99768 20.4876C8.4742 20.1687 7.1033 19.3441 6.10768 18.1476ZM17.9977 6.87764L8.22768 4.79764L6.56768 12.6176V12.6476C5.99768 15.3276 7.72768 17.9676 10.4177 18.5376C13.1077 19.1076 15.7677 17.3876 16.3377 14.6976L17.9977 6.87764ZM13.9977 15.1976C13.682 15.7327 13.206 16.1548 12.637 16.4043C12.0681 16.6538 11.4351 16.7179 10.8277 16.5876C10.2219 16.4586 9.67164 16.1434 9.25385 15.6862C8.83607 15.229 8.57168 14.6526 8.49768 14.0376L13.9977 15.1976ZM6.46768 3.86764L1.99768 4.82764L3.65768 12.6376L3.66768 12.6676C3.81768 13.3776 4.11768 14.0176 4.52768 14.5676C4.42768 13.7976 4.44768 12.9976 4.61768 12.1976L5.04768 10.1976C4.59768 10.1176 4.20768 9.86764 3.99768 9.50764C4.05768 8.89764 4.55768 8.35764 5.24768 8.19764H5.49768L6.27768 4.38764C6.31768 4.19764 6.37768 4.02764 6.46768 3.86764ZM13.0277 10.9276C13.3477 10.3976 14.0277 10.1176 14.7177 10.2676C15.4077 10.4076 15.9077 10.9376 15.9977 11.5576C15.6677 12.0776 14.9977 12.3576 14.2977 12.1976C13.6077 12.0676 13.1077 11.5376 13.0277 10.9276ZM8.14768 9.88764C8.46768 9.35764 9.13768 9.07764 9.82768 9.22764C10.4977 9.36764 11.0277 9.90764 11.1077 10.5176C10.7777 11.0376 10.1077 11.3276 9.41768 11.1976C8.72768 11.0276 8.22768 10.4976 8.14768 9.88764ZM9.96768 3.12764L11.9277 3.54764L11.7677 2.74764L9.96768 3.12764Z" />
                            </svg> Культура
                        </a>
                        <a href="" class="side_bar_btn">
                            <svg width="18" height="23" viewBox="0 0 18 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4.66619 0.916992C3.80423 0.916992 2.97758 1.2594 2.36809 1.8689C1.7586 2.47839 1.41619 3.30504 1.41619 4.16699C1.41619 5.02895 1.7586 5.8556 2.36809 6.46509C2.97758 7.07458 3.80423 7.41699 4.66619 7.41699C5.52814 7.41699 6.35479 7.07458 6.96428 6.46509C7.57378 5.8556 7.91619 5.02895 7.91619 4.16699C7.91619 3.30504 7.57378 2.47839 6.96428 1.8689C6.35479 1.2594 5.52814 0.916992 4.66619 0.916992ZM13.3329 0.916992C12.4709 0.916992 11.6442 1.2594 11.0348 1.8689C10.4253 2.47839 10.0829 3.30504 10.0829 4.16699C10.0829 5.02895 10.4253 5.8556 11.0348 6.46509C11.6442 7.07458 12.4709 7.41699 13.3329 7.41699C14.1948 7.41699 15.0215 7.07458 15.6309 6.46509C16.2404 5.8556 16.5829 5.02895 16.5829 4.16699C16.5829 3.30504 16.2404 2.47839 15.6309 1.8689C15.0215 1.2594 14.1948 0.916992 13.3329 0.916992ZM0.444438 10.8631C0.41719 10.5632 0.452734 10.261 0.548802 9.97565C0.644871 9.69031 0.799354 9.42812 1.0024 9.20581C1.20545 8.9835 1.4526 8.80595 1.72809 8.68448C2.00358 8.56301 2.30136 8.50029 2.60244 8.50033H6.72994C7.03102 8.50029 7.3288 8.56301 7.60429 8.68448C7.87978 8.80595 8.12693 8.9835 8.32998 9.20581C8.53302 9.42812 8.6875 9.69031 8.78357 9.97565C8.87964 10.261 8.91519 10.5632 8.88794 10.8631L7.91185 21.5989C7.88726 21.8681 7.76294 22.1183 7.5633 22.3005C7.36367 22.4827 7.10313 22.5837 6.83285 22.5837H2.49952C2.22907 22.5837 1.9684 22.4825 1.76873 22.3001C1.56907 22.1177 1.44486 21.8672 1.42052 21.5978L0.444438 10.8631ZM12.0545 8.50033C11.5536 8.50038 11.0682 8.67397 10.6809 8.99157C10.2936 9.30917 10.0283 9.75115 9.9301 10.2423L9.0201 14.788C8.98868 14.9452 8.99254 15.1074 9.0314 15.2629C9.07026 15.4185 9.14315 15.5634 9.24481 15.6874C9.34648 15.8113 9.47438 15.9111 9.6193 15.9797C9.76422 16.0482 9.92255 16.0837 10.0829 16.0837V21.5003C10.0829 21.7876 10.197 22.0632 10.4002 22.2664C10.6033 22.4695 10.8789 22.5837 11.1662 22.5837H15.4995C15.7868 22.5837 16.0624 22.4695 16.2656 22.2664C16.4687 22.0632 16.5829 21.7876 16.5829 21.5003V16.0837C16.7431 16.0836 16.9013 16.0479 17.0461 15.9793C17.1908 15.9107 17.3186 15.8109 17.4202 15.6869C17.5217 15.563 17.5945 15.4181 17.6333 15.2627C17.6721 15.1072 17.6759 14.9451 17.6445 14.788L16.7367 10.2423C16.6385 9.75097 16.373 9.30885 15.9855 8.99123C15.5979 8.67361 15.1123 8.50013 14.6112 8.50033H12.0545Z" />
                            </svg> Развлечения
                        </a>
                    </div>
                </div>
                <div class="catalog_content">
                    {% for el in page.object_list %}
                        <a href="/restaurants/{{ el.id }}" class="catalog_box">
                        <div class="catalog_box_img">
                            <img src="{{ el.image }}" alt="">
                        </div>
                        <div class="catalog_box_info">
                            <h4>{{ el.name }}</h4>
{#                            <p><span>{{ el.rating }}</span>9999 отзывов</p>#}
                            <p><span>{{ el.rating }}</span>{{ restaurant_reviews | get_item:el }} отзывов</p>
                            <p>{{ el.type}}</p>
                            <p class="catalog_box_adress">{{ el.address }}</p>
                            <hr>
                            <p class="catalog_box_comment">“Отличное место”</p>
                            <p class="catalog_box_comment">“Просто прекрастно”</p>
                        </div>
                    </a>
                    {% endfor %}
                    <div class="croshka">
                        {% if page.has_previous %}
                            <a href="{% url 'restaurants_with_page' page.previous_page_number %}">
                                <button type="">{{ page.previous_page_number }}</button>
                            </a>
                        {% endif %}
                        <button class="active_btn">{{ page.number }}</button>
                        {% if not page.number == paginator.num_pages and page.has_next %}
                            <a href="{% url 'restaurants_with_page' page.next_page_number %}">
                                <button type="">{{ page.next_page_number }}</button>
                            </a>
    {#                        <button>3</button>#}
    {#                        <button>4</button>#}
                            {% if page.next_page_number != paginator.num_pages %}
                                <button>...</button>
                                <a href="{% url 'restaurants_with_page' paginator.num_pages %}">
                                    <button type="">{{ paginator.num_pages }}</button>
                                </a>
                            {% endif %}
                            <a href="{% url 'restaurants_with_page' page.next_page_number %}">
                                <button><img src="{% static 'restaurants/img/arrow_right.svg' %}" alt=""></button>
                            </a>
                        {% endif %}
{#                        <button>{{ paginator.num_pages }}</button>#}
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

</html>